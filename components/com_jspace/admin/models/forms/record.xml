<?xml version="1.0" encoding="utf-8"?>
<form
	validate="true"
	serverside_validate="true"
	addrulepath="/administrator/components/com_jspace/models/rules">
	<fieldset
		name="title">
		<field
			name="title"
			type="text"
			label="COM_JSPACE_RECORD_TITLE_LABEL"
			description="COM_JSPACE_RECORD_TITLE_DESC"
			class="input-xlarge"
			required="true"/>

		<field name="alias" type="text" label="JFIELD_ALIAS_LABEL"
			description="JFIELD_ALIAS_DESC"
			hint="JFIELD_ALIAS_PLACEHOLDER"
			class="inputbox" size="40" />
	</fieldset>

	<fieldset
		name="details"
		addfieldpath="administrator/components/com_jspace/models/fields">
		<field
			name="asset_id"
			type="hidden"
			filter="unset"/>

		<field
			name="parentTitle"
			type="text"
			label="COM_JSPACE_RECORD_PARENT_ID"
			description=""
			class="readonly"
			readonly="true"/>

		<field
			name="parent_id"
            label="COM_JSPACE_RECORD_PARENT_ID"
			type="hidden"
			description=""
			class="readonly"
			readonly="true"
			required="true"/>

		<field
			name="schema"
			type="jspace.schema"
			label="COM_JSPACE_RECORD_SCHEMA_LABEL"
			description="COM_JSPACE_RECORD_SCHEMA_DESC"
			required="true"/>

		<field name="published" type="list" label="JSTATUS"
		       labelclass="todo-label"
		       description="JFIELD_PUBLISHED_DESC" class="inputbox"
		       filter="intval" size="1" default="1">
			<option value="1">JPUBLISHED</option>
			<option value="0">JUNPUBLISHED</option>
		</field>

		<field
			name="access"
			type="accesslevel"
			label="JFIELD_ACCESS_LABEL"
			description="JFIELD_ACCESS_DESC"
			size="1"/>

		<field
			name="catid"
			type="category"
			extension="com_jspace"
			label="JCATEGORY"
			required="true"
			description=""/>

		<field
			name="language"
			type="contentlanguage"
			label="JFIELD_LANGUAGE_LABEL"
			description="COM_JSPACE_RECORD_LANGUAGE_DESC">
			<option value="*">JALL</option>
		</field>

		<field name="checked_out" type="hidden" filter="unset" />

		<field name="checked_out_time" type="hidden" filter="unset" />
	</fieldset>

	<fieldset
		name="publishing">
		<field
			name="publish_up"
			type="calendar"
			label="COM_JSPACE_RECORD_PUBLISH_UP_LABEL"
			description="COM_JSPACE_RECORD_PUBLISH_UP_DESC"
			class="inputbox"
			size="22"
			format="%Y-%m-%d %H:%M:%S"
			filter="user_utc"/>

		<field
			name="publish_down"
			type="calendar"
			label="COM_JSPACE_RECORD_PUBLISH_DOWN_LABEL"
			description="COM_JSPACE_RECORD_PUBLISH_DOWN_DESC"
			class="inputbox"
			size="22"
			format="%Y-%m-%d %H:%M:%S"
			filter="user_utc"
			validate="jspacegreaterthan"
			field="publish_up"
			message="COM_JSPACE_ERROR_PUBLISHDOWN_LT"/>

		<field
			name="created"
			type="calendar"
			label="COM_JSPACE_RECORD_CREATED_LABEL"
			description="COM_JSPACE_RECORD_CREATED_DESC"
			class="inputbox"
			size="22"
			readonly="true"
			format="%Y-%m-%d %H:%M:%S"
			filter="user_utc"/>

		<field
			name="created_by"
			type="user"
			label="COM_JSPACE_RECORD_CREATED_BY_LABEL"
			description="COM_JSPACE_RECORD_CREATED_BY_DESC"/>

		<field
			name="modified"
			type="calendar"
			class="readonly"
			label="JGLOBAL_FIELD_MODIFIED_LABEL"
			description="COM_JSPACE_RECORD_MODIFIED_DESC"
			size="22"
			readonly="true"
			format="%Y-%m-%d %H:%M:%S"
			filter="user_utc"/>

		<field
			name="modified_by"
			type="user"
			label="JGLOBAL_FIELD_MODIFIED_BY_LABEL"
			filter="unset"/>

		<field name="version" type="text" class="readonly"
			label="COM_JSPACE_RECORD_VERSION_LABEL" size="6" description="COM_JSPACE_RECORD_VERSION_DESC"
			readonly="true" filter="unset" />

		<field
			name="version_note"
			type="text"
			label="JGLOBAL_FIELD_VERSION_NOTE_LABEL"
			description="JGLOBAL_FIELD_VERSION_NOTE_DESC"
			class="inputbox" size="45"
			labelclass="control-label"/>

		<field
			name="id"
			type="text"
			class="readonly"
			label="JGLOBAL_FIELD_ID_LABEL"
			description ="JGLOBAL_FIELD_ID_DESC"
			size="10"
			default="0"
			readonly="true"/>

        <field
            name="tags"
            type="tag"
            mode="ajax"
            label="JTAG"
            description="JTAG_DESC"
            multiple="true">
        </field>

        <field
            name="metadatapairs"
            type="hidden"
            label="COM_JSPACE_RECORD_METADATAPAIRS_LABEL"/>
    </fieldset>

    <fields name="metadata">
        <fieldset name="licensing">
            <field
                name="license"
                type="textarea"
                label="COM_JSPACE_METADATA_LICENSE_LABEL"
                description="COM_JSPACE_METADATA_LICENSE_DESC"
                filter="safehtml">
            </field>
        </fieldset>
        <fieldset name="metadata"
            label="COM_JSPACE_RECORD_METADATA_LABEL">
            <field
                name="schemaless"
                type="jspace.metadataschemaless"
                label="COM_JSPACE_RECORD_METADATA_LABEL"
                filter="JComponentHelper::filterText"
                required="true"/>
        </fieldset>
    </fields>

    <fields name="collection">
        <fieldset name="jspaceassets"
            label="COM_JSPACE_FILES_LABEL">
            <field
                name="original"
                type="jspace.asset"
                label="Originals"
                description="Choose an image from your computer with maximum 100KB"
                size="10"
                validate="jspaceassets"
                multiple="true"/>
            
            <field
                name="item_preview"
                type="jspace.asset"
                label="Item Preview"
                description="Choose an image from your computer with maximum 100KB"
                size="10"
                accept="image/*"
                validate="jspaceassets"/>

            <field
                name="item_thumbnail"
                type="jspace.asset"
                label="Item Thumbnail"
                description="Choose an image from your computer with maximum 100KB"
                size="10"
                accept="image/*"
                validate="jspaceassets"/>
        </fieldset>
    </fields>

    <fields name="weblinks">
        <fieldset name="jspaceweblinks"
            label="COM_JSPACE_LINKS_LABEL">
            <field
                name="weblink"
                type="jspace.weblinklist"
                label="Web Links"
                description="Specify a web link."
                size="10"/>
        </fieldset>
    </fields>
</form>